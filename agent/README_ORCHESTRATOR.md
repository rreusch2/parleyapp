# ğŸ¯ Multi-Agent Props Orchestrator System

## Overview
A sophisticated multi-agent system where each sport has its own specialized AI agent with deep domain expertise. The orchestrator coordinates these agents to generate the best picks across all sports.

## Architecture

```
props_orchestrator.py (Master Controller)
    â”œâ”€â”€ sports_agents/
    â”‚   â”œâ”€â”€ nfl_props_agent.py    (ğŸˆ NFL Expert)
    â”‚   â”œâ”€â”€ mlb_props_agent.py    (âš¾ MLB Expert)
    â”‚   â”œâ”€â”€ cfb_props_agent.py    (ğŸˆ CFB Expert)
    â”‚   â””â”€â”€ wnba_props_agent.py   (ğŸ€ WNBA Expert)
    â””â”€â”€ shared/
        â””â”€â”€ base_props_agent.py   (Common functionality)
```

## Quick Start

### Generate picks for all sports (tomorrow):
```bash
python props_orchestrator.py --tomorrow --picks 20
```

### NFL-only picks:
```bash
python props_orchestrator.py --tomorrow --sport NFL --picks 5
```

### MLB-only picks: 
```bash
python props_orchestrator.py --tomorrow --sport MLB --picks 10
```

### Specific date:
```bash
python props_orchestrator.py --date 2025-10-05 --picks 15
```

### Debug mode (sequential execution):
```bash
python props_orchestrator.py --tomorrow --picks 10 --sequential
```

## Command Options

- `--date YYYY-MM-DD`: Target date (default: tomorrow)
- `--picks N`: Total number of picks to generate (default: 15)
- `--sport [NFL|MLB|CFB|WNBA|all]`: Focus on specific sport (default: all)
- `--tomorrow`: Shortcut for tomorrow's date
- `--sequential`: Run agents one at a time instead of parallel

## How It Works

1. **Orchestrator** checks which sports have games/props available
2. **Allocation** calculated based on availability (more games = more picks)
3. **Specialized agents** deployed in parallel (or sequential if debugging)
4. **Each agent** uses sport-specific knowledge and analysis
5. **Results** compiled and stored in database

## Sport-Specific Expertise

### ğŸˆ NFL Agent
- Analyzes defensive DVOA, pass/rush defense rankings
- Weather impact on passing games
- Game script analysis (leading teams run more)
- Prime time performance trends
- Red zone usage for TD props

### âš¾ MLB Agent  
- Pitcher matchup analysis (ERA, WHIP, K/9)
- Lefty/righty splits
- Ballpark factors (Coors vs Petco)
- Day/night game splits
- Lineup position for RBI opportunities

### ğŸˆ CFB Agent
- Conference tendencies (Big 12 high-scoring, SEC defensive)
- Pace of play (80+ plays for up-tempo teams)
- Rivalry game dynamics
- System fits (Air Raid vs Triple Option)
- Talent gap impacts on game script

### ğŸ€ WNBA Agent
- Pace factors and possessions
- Rest day impact (back-to-backs rare)
- Usage rates with smaller rosters
- Travel impact (commercial flights)
- International player considerations

## Benefits

1. **Higher Quality**: Each agent is a true expert in its sport
2. **Faster**: Parallel processing across multiple agents
3. **Scalable**: Easy to add NBA, NHL, Soccer agents later
4. **Maintainable**: Fix sport-specific issues without affecting others
5. **Flexible**: Can run single sport or multi-sport modes

## Example Output

```
ğŸ¯ PROPS ORCHESTRATOR - MULTI-AGENT SYSTEM
================================================================================
ğŸ“… Date: 2025-10-05
ğŸ² Picks: 20
ğŸ† Sport: all
âš¡ Mode: Parallel
================================================================================

ğŸ” Checking available sports for 2025-10-05...
ğŸ“ˆ Available props by sport: {'MLB': 156, 'NFL': 89, 'CFB': 45}
ğŸ“Š Pick allocation: {'MLB': 10, 'NFL': 7, 'CFB': 3}

âš¡ Running agents in parallel mode...
âš¾ Dispatching MLB agent for 10 picks
ğŸˆ Dispatching NFL agent for 7 picks  
ğŸˆ Dispatching CFB agent for 3 picks

âœ… MLB agent completed: 10 picks stored
âœ… NFL agent completed: 7 picks stored
âœ… CFB agent completed: 3 picks stored

================================================================================
ğŸ“Š ORCHESTRATION RESULTS
================================================================================
âœ… Success: True
ğŸ“ˆ Predictions Stored: 20/20
ğŸ… Sports Covered: MLB, NFL, CFB
ğŸ¤– Agents Used: 3/3
â±ï¸ Execution Time: 45.2s
ğŸ“Š Allocation: {'MLB': 10, 'NFL': 7, 'CFB': 3}
================================================================================
ğŸ‰ SUCCESS! Picks generated by specialized agents!
```

## Monitoring

Each agent logs its progress:
- Discovery phase (fetching props)
- Research phase (trends, stats)
- Analysis phase (applying expertise)
- Storage phase (saving picks)

## Troubleshooting

If an agent fails:
1. Run in `--sequential` mode to see detailed logs
2. Check individual agent logs for sport-specific issues
3. Verify StatMuse server is running (port 5001)
4. Ensure database has props for the target date

## Future Enhancements

- Add NBA agent (when season starts)
- Add NHL agent
- Add Soccer agents (EPL, MLS)
- User preference profiles ("I only want NFL and MLB")
- Agent performance tracking
- Dynamic confidence adjustments based on past performance
