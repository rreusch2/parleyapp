# 🎯 Multi-Agent Props Orchestrator System

## Overview
A sophisticated multi-agent system where each sport has its own specialized AI agent with deep domain expertise. The orchestrator coordinates these agents to generate the best picks across all sports.

## Architecture

```
props_orchestrator.py (Master Controller)
    ├── sports_agents/
    │   ├── nfl_props_agent.py    (🏈 NFL Expert)
    │   ├── mlb_props_agent.py    (⚾ MLB Expert)
    │   ├── cfb_props_agent.py    (🏈 CFB Expert)
    │   └── wnba_props_agent.py   (🏀 WNBA Expert)
    └── shared/
        └── base_props_agent.py   (Common functionality)
```

## Quick Start

### Generate picks for all sports (tomorrow):
```bash
python props_orchestrator.py --tomorrow --picks 20
```

### NFL-only picks:
```bash
python props_orchestrator.py --tomorrow --sport NFL --picks 5
```

### MLB-only picks: 
```bash
python props_orchestrator.py --tomorrow --sport MLB --picks 10
```

### Specific date:
```bash
python props_orchestrator.py --date 2025-10-05 --picks 15
```

### Debug mode (sequential execution):
```bash
python props_orchestrator.py --tomorrow --picks 10 --sequential
```

## Command Options

- `--date YYYY-MM-DD`: Target date (default: tomorrow)
- `--picks N`: Total number of picks to generate (default: 15)
- `--sport [NFL|MLB|CFB|WNBA|all]`: Focus on specific sport (default: all)
- `--tomorrow`: Shortcut for tomorrow's date
- `--sequential`: Run agents one at a time instead of parallel

## How It Works

1. **Orchestrator** checks which sports have games/props available
2. **Allocation** calculated based on availability (more games = more picks)
3. **Specialized agents** deployed in parallel (or sequential if debugging)
4. **Each agent** uses sport-specific knowledge and analysis
5. **Results** compiled and stored in database

## Sport-Specific Expertise

### 🏈 NFL Agent
- Analyzes defensive DVOA, pass/rush defense rankings
- Weather impact on passing games
- Game script analysis (leading teams run more)
- Prime time performance trends
- Red zone usage for TD props

### ⚾ MLB Agent  
- Pitcher matchup analysis (ERA, WHIP, K/9)
- Lefty/righty splits
- Ballpark factors (Coors vs Petco)
- Day/night game splits
- Lineup position for RBI opportunities

### 🏈 CFB Agent
- Conference tendencies (Big 12 high-scoring, SEC defensive)
- Pace of play (80+ plays for up-tempo teams)
- Rivalry game dynamics
- System fits (Air Raid vs Triple Option)
- Talent gap impacts on game script

### 🏀 WNBA Agent
- Pace factors and possessions
- Rest day impact (back-to-backs rare)
- Usage rates with smaller rosters
- Travel impact (commercial flights)
- International player considerations

## Benefits

1. **Higher Quality**: Each agent is a true expert in its sport
2. **Faster**: Parallel processing across multiple agents
3. **Scalable**: Easy to add NBA, NHL, Soccer agents later
4. **Maintainable**: Fix sport-specific issues without affecting others
5. **Flexible**: Can run single sport or multi-sport modes

## Example Output

```
🎯 PROPS ORCHESTRATOR - MULTI-AGENT SYSTEM
================================================================================
📅 Date: 2025-10-05
🎲 Picks: 20
🏆 Sport: all
⚡ Mode: Parallel
================================================================================

🔍 Checking available sports for 2025-10-05...
📈 Available props by sport: {'MLB': 156, 'NFL': 89, 'CFB': 45}
📊 Pick allocation: {'MLB': 10, 'NFL': 7, 'CFB': 3}

⚡ Running agents in parallel mode...
⚾ Dispatching MLB agent for 10 picks
🏈 Dispatching NFL agent for 7 picks  
🏈 Dispatching CFB agent for 3 picks

✅ MLB agent completed: 10 picks stored
✅ NFL agent completed: 7 picks stored
✅ CFB agent completed: 3 picks stored

================================================================================
📊 ORCHESTRATION RESULTS
================================================================================
✅ Success: True
📈 Predictions Stored: 20/20
🏅 Sports Covered: MLB, NFL, CFB
🤖 Agents Used: 3/3
⏱️ Execution Time: 45.2s
📊 Allocation: {'MLB': 10, 'NFL': 7, 'CFB': 3}
================================================================================
🎉 SUCCESS! Picks generated by specialized agents!
```

## Monitoring

Each agent logs its progress:
- Discovery phase (fetching props)
- Research phase (trends, stats)
- Analysis phase (applying expertise)
- Storage phase (saving picks)

## Troubleshooting

If an agent fails:
1. Run in `--sequential` mode to see detailed logs
2. Check individual agent logs for sport-specific issues
3. Verify StatMuse server is running (port 5001)
4. Ensure database has props for the target date

## Future Enhancements

- Add NBA agent (when season starts)
- Add NHL agent
- Add Soccer agents (EPL, MLS)
- User preference profiles ("I only want NFL and MLB")
- Agent performance tracking
- Dynamic confidence adjustments based on past performance
